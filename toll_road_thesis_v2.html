<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Toll Road Thesis ‚Äî BTC Thesis</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=DM+Sans:wght@300;400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/style.css">
  <style>
    /* ‚îÄ‚îÄ Toll Road page-specific styles ‚îÄ‚îÄ */

    /* -- Tab navigation inside page -- */
    .tr-tabs {
      display: flex;
      gap: 2px;
      margin-top: 20px;
      overflow-x: auto;
      padding-bottom: 1px;
      border-bottom: 1px solid var(--border);
    }
    .tr-tab {
      font-family: var(--mono);
      font-size: 10px;
      font-weight: 700;
      padding: 10px 16px;
      border: none;
      cursor: pointer;
      letter-spacing: 1px;
      border-radius: 6px 6px 0 0;
      background: transparent;
      color: var(--text-dim);
      border-bottom: 2px solid transparent;
      transition: color 0.15s, border-color 0.15s;
      white-space: nowrap;
    }
    .tr-tab:hover:not(.active) { color: var(--text-mid); }
    .tr-tab.active {
      background: var(--card);
      color: var(--orange);
      border-bottom-color: var(--orange);
    }

    /* -- Tab content panels -- */
    .tr-panel { display: none; flex-direction: column; gap: 16px; }
    .tr-panel.active { display: flex; }
    .tr-content { padding-top: 20px; }

    /* -- Card accents -- */
    .card-accent { border-top: 2px solid; }

    /* -- Section eyebrow inside cards -- */
    .section-eye {
      font-family: var(--mono);
      font-size: 9px;
      letter-spacing: 2px;
      text-transform: uppercase;
      margin-bottom: 8px;
    }

    /* -- Section title inside cards -- */
    .section-title {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 14px;
      line-height: 1.3;
      color: var(--text);
    }

    /* -- Body text -- */
    .body-text {
      font-size: 13px;
      color: var(--text-mid);
      line-height: 1.8;
    }
    .body-text .ht { font-weight: 700; }

    /* -- Mono callout box -- */
    .mono-box {
      font-family: var(--mono);
      font-size: 10px;
      padding: 12px 16px;
      background: var(--bg2);
      border-radius: var(--radius-sm);
      line-height: 1.8;
      color: var(--text-mid);
    }

    /* -- Source footnote badges -- */
    .src {
      font-family: var(--mono);
      font-size: 8px;
      color: var(--blue);
      opacity: 0.7;
      vertical-align: super;
      cursor: help;
      margin-left: 1px;
      padding: 0 2px;
    }
    .src:hover { opacity: 1; }

    /* -- Source box at card bottom -- */
    .source-box {
      margin-top: 12px;
      padding: 12px 16px;
      background: rgba(56,189,248,0.04);
      border: 1px solid rgba(56,189,248,0.1);
      border-radius: var(--radius-sm);
      font-size: 10px;
      color: var(--text-dim);
      line-height: 1.8;
    }
    .source-box .sb-title {
      font-family: var(--mono);
      font-size: 8px;
      letter-spacing: 1.5px;
      color: var(--blue);
      margin-bottom: 6px;
      text-transform: uppercase;
      opacity: 0.7;
    }
    .source-box .sb-item { margin-bottom: 3px; }
    .source-box .sb-num {
      font-family: var(--mono);
      color: var(--blue);
      font-weight: 700;
      margin-right: 4px;
      font-size: 9px;
    }

    /* -- Flywheel grid -- */
    .fw-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 8px;
    }
    @media (max-width: 700px) { .fw-grid { grid-template-columns: repeat(2, 1fr); } }

    .fw-step {
      background: var(--bg2);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 14px 12px;
      cursor: pointer;
      transition: border-color 0.2s;
    }
    .fw-step:hover { border-color: var(--border-hi); }
    .fw-step .fw-icon { font-size: 20px; margin-bottom: 6px; }
    .fw-step .fw-label { font-size: 12px; font-weight: 700; margin-bottom: 2px; color: var(--text); }
    .fw-step .fw-sub { font-family: var(--mono); font-size: 9px; }

    .fw-detail {
      margin-top: 12px;
      padding: 14px 16px;
      border-radius: 8px;
      display: none;
      font-size: 12px;
      color: var(--text-mid);
      line-height: 1.7;
      background: var(--bg2);
      border: 1px solid var(--border);
    }
    .fw-detail.active { display: block; }

    /* -- Stats grid -- */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 14px;
    }
    @media (max-width: 600px) { .stats-grid { grid-template-columns: 1fr; } }

    .stat-card {
      background: var(--bg2);
      border-radius: 8px;
      padding: 12px 14px;
      border-left: 3px solid;
    }
    .stat-card .sc-label {
      font-family: var(--mono);
      font-size: 9px;
      color: var(--text-dim);
      letter-spacing: 0.5px;
      margin-bottom: 4px;
      text-transform: uppercase;
    }
    .stat-card .sc-value {
      font-family: var(--mono);
      font-size: 20px;
      font-weight: 700;
    }
    .stat-card .sc-note { font-size: 10px; color: var(--text-dim); margin-top: 2px; }
    .stat-card .sc-source { font-family: var(--mono); font-size: 8px; color: var(--blue); opacity: 0.6; margin-top: 4px; }

    /* -- Stacked bar chart -- */
    .bar-chart {
      display: flex;
      gap: 2px;
      align-items: flex-end;
      height: 240px;
    }
    .bar-col {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }
    .bar-stack {
      width: 100%;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      height: 200px;
    }
    .bar-seg {
      width: 100%;
      position: relative;
    }
    .bar-seg-label {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: var(--mono);
      font-size: 10px;
      font-weight: 700;
      color: #fff;
    }
    .bar-period {
      font-family: var(--mono);
      font-size: 9px;
      color: var(--text-dim);
      text-align: center;
    }

    /* -- Chart legend -- */
    .chart-legend {
      display: flex;
      gap: 12px;
      margin-bottom: 14px;
      flex-wrap: wrap;
    }
    .legend-item { display: flex; align-items: center; gap: 6px; }
    .legend-swatch {
      width: 10px;
      height: 10px;
      border-radius: 2px;
    }
    .legend-label { font-family: var(--mono); font-size: 10px; color: var(--text-mid); }

    /* -- Revenue mini-charts -- */
    .rev-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
    }
    @media (max-width: 700px) { .rev-grid { grid-template-columns: 1fr; } }

    .rev-section-label {
      font-family: var(--mono);
      font-size: 9px;
      color: var(--text-dim);
      letter-spacing: 1px;
      text-transform: uppercase;
      margin-bottom: 10px;
    }
    .rev-chart {
      display: flex;
      gap: 3px;
      align-items: flex-end;
      height: 120px;
    }
    .rev-col {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }
    .rev-val { font-family: var(--mono); font-size: 9px; font-weight: 600; }
    .rev-bar { width: 100%; border-radius: 3px 3px 0 0; }
    .rev-label { font-family: var(--mono); font-size: 8px; color: var(--text-dim); }

    /* -- Divergence grid -- */
    .divergence-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }
    @media (max-width: 600px) { .divergence-grid { grid-template-columns: 1fr; } }

    .divergence-col {
      background: var(--bg2);
      border-radius: 8px;
      padding: 16px;
    }
    .div-item {
      font-size: 11px;
      color: var(--text-mid);
      line-height: 1.8;
      padding-left: 14px;
      position: relative;
    }
    .div-item .arrow { position: absolute; left: 0; font-weight: 700; }

    /* -- Callout box -- */
    .callout {
      margin-top: 14px;
      padding: 14px 18px;
      border-radius: 8px;
      font-size: 12px;
      color: var(--text-mid);
      line-height: 1.8;
    }
    .callout-title {
      font-size: 12px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    /* -- Scenario rows -- */
    .scenario-row {
      display: grid;
      grid-template-columns: 130px 130px 60px 1fr;
      gap: 12px;
      padding: 10px 14px;
      background: var(--bg2);
      border-radius: var(--radius-sm);
      align-items: center;
    }
    @media (max-width: 650px) { .scenario-row { grid-template-columns: 1fr 1fr; } }

    /* -- Reflexive steps -- */
    .reflex-step {
      display: flex;
      gap: 10px;
      padding: 8px 12px;
      background: var(--bg2);
      border-radius: var(--radius-sm);
      align-items: center;
      border: 1px solid var(--border);
    }
    .reflex-step.highlight {
      border-color: rgba(167,139,250,0.2);
      background: rgba(167,139,250,0.05);
    }
    .reflex-num {
      font-family: var(--mono);
      font-size: 10px;
      font-weight: 700;
      color: var(--purple);
      min-width: 20px;
    }

    /* -- Stat trio -- */
    .stat-trio {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 10px;
    }
    .stat-trio-item {
      background: var(--bg2);
      border-radius: 8px;
      padding: 14px 12px;
      text-align: center;
    }
    .stat-trio-item .sti-val { font-family: var(--mono); font-size: 22px; font-weight: 700; }
    .stat-trio-item .sti-label { font-size: 11px; font-weight: 600; color: var(--text); margin-top: 4px; }
    .stat-trio-item .sti-note { font-size: 10px; color: var(--text-dim); margin-top: 2px; }

    /* -- Kill switch cards -- */
    .ks-card {
      background: var(--bg2);
      border-radius: 8px;
      padding: 14px 16px;
      border: 1px solid var(--border);
    }
    .ks-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }
    .ks-header-left {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .ks-header-left .ks-icon { font-size: 16px; }
    .ks-header-left .ks-label { font-size: 13px; font-weight: 700; color: var(--text); }
    .ks-body {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      padding: 10px 12px;
      background: var(--bg);
      border-radius: var(--radius-sm);
    }
    .ks-sub-label {
      font-family: var(--mono);
      font-size: 9px;
      margin-bottom: 4px;
    }
    .ks-sub-text { font-size: 11px; color: var(--text-mid); line-height: 1.6; }
    .ks-meta {
      display: flex;
      gap: 16px;
      margin-top: 8px;
      flex-wrap: wrap;
    }
    .ks-meta span { font-size: 10px; color: var(--text-dim); }
    .ks-meta .meta-key { font-family: var(--mono); color: var(--text-faint); }

    /* -- Checklist -- */
    .checklist-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    @media (max-width: 600px) { .checklist-grid { grid-template-columns: 1fr; } }

    .cl-item {
      display: flex;
      gap: 10px;
      padding: 8px 12px;
      background: var(--bg2);
      border-radius: var(--radius-sm);
      align-items: center;
      border: 1px solid var(--border);
    }
    .cl-box {
      width: 14px;
      height: 14px;
      border-radius: 3px;
      border: 2px solid var(--text-dim);
      flex-shrink: 0;
      cursor: pointer;
      transition: 0.15s;
    }
    .cl-box:hover { border-color: var(--green); }
    .cl-box.checked { background: var(--green); border-color: var(--green); }

    /* -- Source table -- */
    .src-table {
      width: 100%;
      border-collapse: collapse;
    }
    .src-table th {
      font-family: var(--mono);
      font-size: 9px;
      letter-spacing: 1px;
      color: var(--text-dim);
      text-align: left;
      padding: 8px 10px;
      border-bottom: 1px solid var(--border);
      text-transform: uppercase;
    }
    .src-table td {
      font-size: 11px;
      padding: 8px 10px;
      border-bottom: 1px solid rgba(30,45,69,0.5);
      color: var(--text-mid);
      vertical-align: top;
    }
    .src-table td:first-child {
      font-family: var(--mono);
      font-size: 10px;
      color: var(--blue);
      font-weight: 600;
      white-space: nowrap;
    }
    .src-table tr:hover td { background: rgba(56,189,248,0.03); }

    /* -- Page footer -- */
    .page-footer {
      color: var(--text-faint);
      font-size: 9px;
      margin-top: 24px;
      line-height: 1.6;
      font-family: var(--mono);
      padding: 14px 0;
      border-top: 1px solid var(--border);
    }
  </style>
</head>
<body>
<div class="site-layout">
  <nav class="site-nav" id="site-nav"></nav>
  <main class="site-main">
    <div class="page-wrap">

      <!-- ‚îÄ‚îÄ PAGE HEADER ‚îÄ‚îÄ -->
      <header class="page-header">
        <div class="page-eyebrow">CRV / CVX trade thesis</div>
        <h1 class="page-title">üõ£Ô∏è The Toll Road Thesis</h1>
        <p class="page-subtitle">ETH ‚Üí CRV ‚Üí CVX Flywheel ‚Äî Trade thesis with full invalidation framework. If ETH pumps, money flows through Curve. Period.</p>
      </header>

      <!-- ‚îÄ‚îÄ TAB NAVIGATION ‚îÄ‚îÄ -->
      <div class="tr-tabs">
        <button class="tr-tab active" onclick="switchTab('flywheel',this)">FLYWHEEL</button>
        <button class="tr-tab" onclick="switchTab('dominance',this)">FEE DOMINANCE</button>
        <button class="tr-tab" onclick="switchTab('revenue',this)">REVENUE</button>
        <button class="tr-tab" onclick="switchTab('thesis',this)">THE TRADE</button>
        <button class="tr-tab" onclick="switchTab('invalidation',this)">KILL SWITCHES</button>
        <button class="tr-tab" onclick="switchTab('sources',this)">SOURCES</button>
      </div>

      <!-- ‚îÄ‚îÄ TAB CONTENT ‚îÄ‚îÄ -->
      <div class="tr-content">

        <!-- ‚ïê‚ïê FLYWHEEL ‚ïê‚ïê -->
        <div id="p-flywheel" class="tr-panel active">
          <div class="card card-accent" style="border-top-color: var(--orange)">
            <div class="section-eye" style="color: var(--orange)">The Reflexive Flywheel</div>
            <div class="section-title">If ETH pumps, money flows through Curve. Period.</div>
            <div class="body-text" style="margin-bottom: 18px;">
              ETH is the <span class="ht" style="color: #627eea">precondition</span>, not the bet.
              CRV is the <span class="ht" style="color: var(--orange)">toll road</span> that all stablecoin liquidity drives through ‚Äî currently capturing 44% of all DEX fees on Ethereum.<span class="src" title="[1] PRNewswire Dec 2025">1</span>
              CVX is the <span class="ht" style="color: var(--blue)">leveraged governance claim</span> on that toll road, controlling the largest single block of veCRV voting power.<span class="src" title="[8] DefiLlama Convex">8</span>
              The flywheel is a ponzi when it gets running ‚Äî emission revenue makes it always rational to buy in. Self-reinforcing. Reflexive.
            </div>
            <div class="fw-grid" id="fwg"></div>
            <div class="fw-detail" id="fwd"></div>
            <div class="source-box">
              <div class="sb-title">üìé Sources</div>
              <div class="sb-item"><span class="sb-num">[1]</span><a href="https://www.prnewswire.com/news-releases/curve-finance-strengthens-its-position-as-a-leading-ethereum-dex-with-44-fee-share-302647071.html" target="_blank">PRNewswire ‚Äî Curve 44% Fee Share</a> (Dec 19, 2025)</div>
              <div class="sb-item"><span class="sb-num">[2]</span><a href="https://www.prnewswire.com/news-releases/curve-finance-reports-strong-q3-2025-trading-volume-hits-29b-while-revenue-more-than-doubles-302611749.html" target="_blank">PRNewswire ‚Äî Q3 2025: $29B Vol, Revenue Doubles</a> (Nov 11, 2025)</div>
              <div class="sb-item"><span class="sb-num">[3]</span><a href="https://resources.curve.finance/vecrv/fee-collection-distribution/" target="_blank">Curve Resources ‚Äî Fee Collection &amp; Distribution</a> (official docs)</div>
            </div>
          </div>

          <div class="card card-accent" style="border-top-color: var(--yellow)">
            <div class="section-eye" style="color: var(--yellow)">The Core Numbers</div>
            <div class="stats-grid" id="cs"></div>
            <div class="source-box">
              <div class="sb-title">üìé Sources</div>
              <div class="sb-item"><span class="sb-num">[4]</span><a href="https://www.coingecko.com/en/coins/curve-dao-token" target="_blank">CoinGecko ‚Äî CRV</a> (live)</div>
              <div class="sb-item"><span class="sb-num">[5]</span><a href="https://www.coingecko.com/en/coins/convex-finance" target="_blank">CoinGecko ‚Äî CVX</a> (live)</div>
              <div class="sb-item"><span class="sb-num">[6]</span><a href="https://defillama.com/protocol/curve-finance" target="_blank">DefiLlama ‚Äî Curve Finance</a> (live)</div>
              <div class="sb-item"><span class="sb-num">[7]</span><a href="https://www.crypto-reporter.com/press-releases/curve-finance-closes-2025-with-stable-volumes-and-a-stronger-infrastructure-role-121000/" target="_blank">Crypto Reporter ‚Äî Curve 2025 Year-End</a> (Jan 20, 2026)</div>
            </div>
          </div>

          <div class="card card-accent" style="border-top-color: var(--teal)">
            <div class="section-eye" style="color: var(--teal)">The FX Optionality ‚Äî Unpriced Upside</div>
            <div class="body-text">
              <span class="ht" style="color: var(--teal)">Curve is building the decentralized FX market.</span>
              FXSwap is a new AMM algorithm purpose-built for fiat-pair stablecoin trading (EUR/USD, GBP/USD).<span class="src" title="[9] InsideCryptoReview">9</span>
              The PYUSD/USDS pool hit >$90M TVL.<span class="src" title="[6] DefiLlama">6</span>
              If non-USD stablecoins become a real category ‚Äî EURC, GYEN, BRL stablecoins ‚Äî Curve isn't just a DEX. It's the on-chain forex exchange.
              The global FX market trades <span style="font-family: var(--mono); color: var(--text)">$7.5 trillion/day</span>.<span class="src" title="[10] BIS Triennial Survey">10</span>
              Even capturing 0.001% of that flow transforms the fee math entirely.
              The market is pricing CRV for its current stablecoin swap business. It is not pricing the FX optionality at all.
            </div>
            <div class="source-box">
              <div class="sb-title">üìé Sources</div>
              <div class="sb-item"><span class="sb-num">[9]</span><a href="https://insidecryptoreview.com/en/dex/curve" target="_blank">InsideCryptoReview ‚Äî Curve Finance Review 2026</a> (Feb 2026)</div>
              <div class="sb-item"><span class="sb-num">[10]</span><a href="https://www.bis.org/statistics/rpfx22.htm" target="_blank">BIS ‚Äî Triennial Central Bank Survey of FX Markets</a> (2022)</div>
            </div>
          </div>
        </div>

        <!-- ‚ïê‚ïê FEE DOMINANCE ‚ïê‚ïê -->
        <div id="p-dominance" class="tr-panel">
          <div class="card card-accent" style="border-top-color: var(--orange)">
            <div class="section-eye" style="color: var(--orange)">Ethereum DEX Fee Market Share ‚Äî Quarterly</div>
            <div class="section-title">Curve's Rise from 1.6% to 44% in 12 Months<span class="src" title="[1]">1</span></div>
            <div class="chart-legend">
              <div class="legend-item"><div class="legend-swatch" style="background: var(--orange)"></div><span class="legend-label">Curve</span></div>
              <div class="legend-item"><div class="legend-swatch" style="background: #ff007a; opacity: 0.5"></div><span class="legend-label">Uniswap</span></div>
              <div class="legend-item"><div class="legend-swatch" style="background: var(--green); opacity: 0.5"></div><span class="legend-label">Fluid</span></div>
              <div class="legend-item"><div class="legend-swatch" style="background: var(--text-faint); opacity: 0.5"></div><span class="legend-label">Other</span></div>
            </div>
            <div class="bar-chart" id="sch"></div>
            <div style="margin-top: 6px; font-family: var(--mono); font-size: 8px; color: var(--text-faint); text-align: right;">
              Data: <a href="https://defillama.com/fees/chain/ethereum" target="_blank">DefiLlama fees/chain/ethereum</a><span class="src">6</span> ¬∑
              Q4 confirmed: <a href="https://www.prnewswire.com/news-releases/curve-finance-strengthens-its-position-as-a-leading-ethereum-dex-with-44-fee-share-302647071.html" target="_blank">PRNewswire</a><span class="src">1</span>
            </div>
            <div class="callout" style="background: rgba(249,115,22,0.05); border: 1px solid rgba(249,115,22,0.12);">
              <span class="ht" style="color: var(--orange)">The signal:</span> Curve gained 42.4 percentage points of ETH DEX fee share in a single year ‚Äî during a bear market.<span class="src" title="[1]">1</span>
              This isn't a meme rotation. This is infrastructure consolidation. Uniswap's share contracted because Curve dominates the trades that generate real revenue: stablecoin settlement, the base layer of every DeFi interaction.
            </div>
          </div>

          <div class="card card-accent" style="border-top-color: var(--yellow)">
            <div class="section-eye" style="color: var(--yellow)">Efficiency Advantage</div>
            <div class="stat-trio">
              <div class="stat-trio-item">
                <div class="sti-val" style="color: var(--green)">0.04%</div>
                <div class="sti-label">Curve swap fee<span class="src">9</span></div>
                <div class="sti-note">vs Uniswap's 0.30%</div>
              </div>
              <div class="stat-trio-item">
                <div class="sti-val" style="color: var(--green)">0.003%</div>
                <div class="sti-label">Price impact $500K<span class="src">9</span></div>
                <div class="sti-note">USDC‚ÜíUSDT on Curve</div>
              </div>
              <div class="stat-trio-item">
                <div class="sti-val" style="color: var(--orange)">44%</div>
                <div class="sti-label">Fee share at lower rate<span class="src">1</span></div>
                <div class="sti-note">Volume must be enormous</div>
              </div>
            </div>
            <div class="body-text" style="margin-top: 14px;">
              Curve charges <span style="font-family: var(--mono); color: var(--green)">7.5x less per trade</span> than Uniswap<span class="src">9</span> ‚Äî yet captures nearly half the fee market.
              This means the <em>volume flowing through Curve is so massive</em> that even at a fraction of the fee rate, it generates comparable revenue.
              Curve also charges no frontend fee, compared to Uniswap's 0.15% surcharge through their official interface.<span class="src">9</span>
            </div>
            <div class="source-box">
              <div class="sb-title">üìé Sources</div>
              <div class="sb-item"><span class="sb-num">[6]</span><a href="https://defillama.com/fees/chain/ethereum" target="_blank">DefiLlama ‚Äî Fees by Protocol on Ethereum</a></div>
              <div class="sb-item"><span class="sb-num">[11]</span><a href="https://coinlaw.io/uniswap-statistics/" target="_blank">CoinLaw ‚Äî Uniswap Statistics 2026</a></div>
              <div class="sb-item"><span class="sb-num">[14]</span><a href="https://crypto.news/curve-finance-ethereum-dex-fees-activity-surges-2025/" target="_blank">Crypto.News ‚Äî Curve Fee Surge ($15.1M 30-day)</a> (Dec 23, 2025)</div>
            </div>
          </div>
        </div>

        <!-- ‚ïê‚ïê REVENUE ‚ïê‚ïê -->
        <div id="p-revenue" class="tr-panel">
          <div class="card card-accent" style="border-top-color: var(--yellow)">
            <div class="section-eye" style="color: var(--yellow)">Curve Protocol Metrics ‚Äî Quarterly</div>
            <div class="section-title">Revenue Doubled Q2‚ÜíQ3 2025<span class="src">2</span></div>
            <div class="rev-grid" id="rcg"></div>
            <div style="margin-top: 8px; font-family: var(--mono); font-size: 8px; color: var(--text-faint); text-align: right;">
              Q3 data: <a href="https://www.prnewswire.com/news-releases/curve-finance-reports-strong-q3-2025-trading-volume-hits-29b-while-revenue-more-than-doubles-302611749.html" target="_blank">PRNewswire</a><span class="src">2</span> ¬∑
              Annual: <a href="https://www.crypto-reporter.com/press-releases/curve-finance-closes-2025-with-stable-volumes-and-a-stronger-infrastructure-role-121000/" target="_blank">Crypto Reporter</a><span class="src">7</span> ¬∑
              TVL: <a href="https://defillama.com/protocol/curve-finance" target="_blank">DefiLlama</a><span class="src">6</span>
            </div>
          </div>

          <div class="card card-accent" style="border-top-color: var(--red)">
            <div class="section-eye" style="color: var(--red)">The Revenue vs. Token Price Divergence</div>
            <div class="section-title">Curve is earning more while the token trades near ATL</div>
            <div class="divergence-grid">
              <div class="divergence-col" style="border-left: 3px solid var(--green)">
                <div style="font-family: var(--mono); font-size: 9px; color: var(--green); margin-bottom: 8px; letter-spacing: 1px;">FUNDAMENTALS (IMPROVING)</div>
                <div class="div-item"><span class="arrow" style="color: var(--green)">‚Üë</span>Fee share: 1.6% ‚Üí 44%<span class="src">1</span></div>
                <div class="div-item"><span class="arrow" style="color: var(--green)">‚Üë</span>Revenue: Q2 $3.9M ‚Üí Q3 $7.3M (+87%)<span class="src">2</span></div>
                <div class="div-item"><span class="arrow" style="color: var(--green)">‚Üë</span>2025 total: $13.6M to veCRV holders<span class="src">7</span></div>
                <div class="div-item"><span class="arrow" style="color: var(--green)">‚Üë</span>Volume: $122.3B annual<span class="src">7</span></div>
                <div class="div-item"><span class="arrow" style="color: var(--green)">‚Üë</span>Pools >$1M TVL: +41% YoY<span class="src">2</span></div>
                <div class="div-item"><span class="arrow" style="color: var(--green)">‚Üë</span>Emissions cut: 137M ‚Üí 115M CRV/yr<span class="src">9</span></div>
                <div class="div-item"><span class="arrow" style="color: var(--green)">‚Üë</span>TVL/MCap ratio: 0.40 (undervalued)<span class="src">12</span></div>
                <div class="div-item"><span class="arrow" style="color: var(--green)">‚Üë</span>FX pools on roadmap (new TAM)<span class="src">9</span></div>
              </div>
              <div class="divergence-col" style="border-left: 3px solid var(--red)">
                <div style="font-family: var(--mono); font-size: 9px; color: var(--red); margin-bottom: 8px; letter-spacing: 1px;">PRICE ACTION (COLLAPSING)</div>
                <div class="div-item"><span class="arrow" style="color: var(--red)">‚Üì</span>CRV: ~$0.42 ‚Äî down 97% from ATH<span class="src">4</span></div>
                <div class="div-item"><span class="arrow" style="color: var(--red)">‚Üì</span>CVX: ~$1.73 ‚Äî down 97% from ATH<span class="src">5</span></div>
                <div class="div-item"><span class="arrow" style="color: var(--red)">‚Üì</span>CRV ATL: $0.18 (Aug 2024)<span class="src">4</span></div>
                <div class="div-item"><span class="arrow" style="color: var(--red)">‚Üì</span>Bear market sentiment across DeFi</div>
                <div class="div-item"><span class="arrow" style="color: var(--red)">‚Üì</span>48% circulating, emission overhang<span class="src">4</span></div>
                <div class="div-item"><span class="arrow" style="color: var(--red)">‚Üì</span>2023 Vyper exploit history ($70M)<span class="src">9</span></div>
                <div class="div-item"><span class="arrow" style="color: var(--red)">‚Üì</span>Curve Wars narrative faded from CT</div>
                <div class="div-item"><span class="arrow" style="color: var(--red)">‚Üì</span>"DeFi is dead" consensus</div>
              </div>
            </div>
            <div class="callout" style="background: rgba(249,115,22,0.06); border: 1px solid rgba(249,115,22,0.15);">
              <div class="callout-title" style="color: var(--orange)">The Asymmetry</div>
              When fundamentals improve while price collapses, one of two things is true: either the market knows something you don't (bear case), or the market is mispricing a recovery asset at peak pessimism (your thesis).
              The 44% fee share number is not narrative ‚Äî it's on-chain, verifiable on <a href="https://defillama.com/fees/chain/ethereum" target="_blank">DefiLlama</a>, and measured against the most competitive DeFi ecosystem on Earth.<span class="src">6</span>
            </div>
          </div>
        </div>

        <!-- ‚ïê‚ïê THE TRADE ‚ïê‚ïê -->
        <div id="p-thesis" class="tr-panel">
          <div class="card card-accent" style="border-top-color: var(--orange)">
            <div class="section-eye" style="color: var(--orange)">ETH / CRV / CVX ‚Äî The Toll Road Trade</div>
            <div class="section-title">Thesis Statement</div>
            <div class="body-text" style="margin-bottom: 16px;">
              <span style="color: var(--text); font-weight: 600;">Core belief:</span>
              Curve Finance has quietly consolidated into the dominant stablecoin infrastructure layer on Ethereum during the bear market.<span class="src">1</span>
              When liquidity expansion (WALCL ‚Üí M2) forces capital back into crypto, stablecoin volume explodes. Curve captures 44% of that flow.<span class="src">1</span>
              The veCRV/CVX governance flywheel converts volume into locked supply,<span class="src">3</span> creating a reflexive loop where rising fees make it rational to buy and lock ‚Äî which reduces floating supply ‚Äî which amplifies price moves.
              CRV at ~$0.42<span class="src">4</span> and CVX at ~$1.73<span class="src">5</span> represent 97% drawdowns from ATH on a working protocol with proven fee capture, rising revenue,<span class="src">2</span> and unpriced FX optionality.
            </div>
            <div class="mono-box" style="color: var(--orange); border: 1px solid rgba(249,115,22,0.12);">
              MECHANISM: WALCL ‚Üë ‚Üí M2 ‚Üë ‚Üí Stablecoins mint ‚Üí ETH DeFi TVL ‚Üë ‚Üí Swap volume ‚Üë ‚Üí Curve fees ‚Üë ‚Üí veCRV rewards ‚Üë ‚Üí More locking ‚Üí Less float ‚Üí CRV ‚Üë ‚Üí CVX amplifies ‚Üí Reflexive loop
            </div>
          </div>

          <div class="card card-accent" style="border-top-color: var(--green)">
            <div class="section-eye" style="color: var(--green)">Upside Scenarios</div>
            <div style="display: flex; flex-direction: column; gap: 8px;" id="scn"></div>
            <div style="margin-top: 10px; font-size: 10px; color: var(--text-dim); line-height: 1.6;">
              <em>Price targets based on prior cycle ranges, ATH data from <a href="https://www.coingecko.com/en/coins/curve-dao-token" target="_blank">CoinGecko</a><span class="src">4,5</span>, and fee capture analysis. Not predictions ‚Äî scenario mapping for position sizing.</em>
            </div>
          </div>

          <div class="card card-accent" style="border-top-color: var(--purple)">
            <div class="section-eye" style="color: var(--purple)">The Reflexivity Argument</div>
            <div class="section-title">"It always makes sense to buy in"</div>
            <div class="body-text"><span class="ht" style="color: var(--purple)">When the flywheel is spinning, the incentive structure is self-reinforcing:</span></div>
            <div style="margin-top: 12px; display: flex; flex-direction: column; gap: 6px;" id="rfx"></div>
            <div class="source-box">
              <div class="sb-title">üìé Mechanism Sources</div>
              <div class="sb-item"><span class="sb-num">[3]</span><a href="https://resources.curve.finance/vecrv/fee-collection-distribution/" target="_blank">Curve Resources ‚Äî Fee Distribution</a> (100% admin fees ‚Üí veCRV, weekly Thu)</div>
              <div class="sb-item"><span class="sb-num">[8]</span><a href="https://defillama.com/protocol/convex-finance" target="_blank">DefiLlama ‚Äî Convex Finance</a> (vlCVX governance)</div>
            </div>
          </div>
        </div>

        <!-- ‚ïê‚ïê KILL SWITCHES ‚ïê‚ïê -->
        <div id="p-invalidation" class="tr-panel">
          <div class="card card-accent" style="border-top-color: var(--red)">
            <div class="section-eye" style="color: var(--red)">CRV/CVX Invalidation Dashboard</div>
            <div class="section-title">8 Kill Switches ‚Äî Check Weekly</div>
            <div style="color: var(--text-dim); font-size: 11px; line-height: 1.6; margin-bottom: 16px;">
              These are specific to the CRV/CVX flywheel thesis. They operate <em>in addition to</em> the 5 macro kill switches (Time, Mechanism, Inflation, Solvency, Black Swan). Each switch links to a verifiable data source.
            </div>
            <div style="display: flex; flex-direction: column; gap: 8px;" id="kss"></div>
          </div>

          <div class="card card-accent" style="border-top-color: var(--yellow)">
            <div class="section-eye" style="color: var(--yellow)">Weekly Monitoring Checklist</div>
            <div class="checklist-grid" id="chl"></div>
          </div>
        </div>

        <!-- ‚ïê‚ïê SOURCES ‚ïê‚ïê -->
        <div id="p-sources" class="tr-panel">
          <div class="card card-accent" style="border-top-color: var(--blue)">
            <div class="section-eye" style="color: var(--blue)">Complete Source Index</div>
            <div class="section-title">Every claim is independently verifiable</div>
            <div class="body-text" style="margin-bottom: 16px;">
              This thesis was built from primary sources: official protocol documentation, on-chain data platforms, and first-party press releases.
              No unnamed "analysts" or prediction sites. Every data point links back to a verifiable source.
            </div>
            <table class="src-table">
              <thead><tr><th>#</th><th>Source</th><th>Type</th><th>What It Proves</th></tr></thead>
              <tbody>
                <tr><td>[1]</td><td><a href="https://www.prnewswire.com/news-releases/curve-finance-strengthens-its-position-as-a-leading-ethereum-dex-with-44-fee-share-302647071.html" target="_blank">PRNewswire ‚Äî Curve 44% Fee Share</a><br><span style="font-size:9px;color:var(--text-faint)">Dec 19, 2025</span></td><td>First-party PR</td><td>Fee share: 1.6% ‚Üí 44% in 12 months</td></tr>
                <tr><td>[2]</td><td><a href="https://www.prnewswire.com/news-releases/curve-finance-reports-strong-q3-2025-trading-volume-hits-29b-while-revenue-more-than-doubles-302611749.html" target="_blank">PRNewswire ‚Äî Q3 2025 Report</a><br><span style="font-size:9px;color:var(--text-faint)">Nov 11, 2025</span></td><td>First-party PR</td><td>$29B vol, $7.3M rev (+87% QoQ), pools >$1M +41%</td></tr>
                <tr><td>[3]</td><td><a href="https://resources.curve.finance/vecrv/fee-collection-distribution/" target="_blank">Curve Resources ‚Äî Fee Distribution</a></td><td>Official docs</td><td>100% admin fees ‚Üí veCRV, weekly Thu distribution</td></tr>
                <tr><td>[4]</td><td><a href="https://www.coingecko.com/en/coins/curve-dao-token" target="_blank">CoinGecko ‚Äî CRV</a></td><td>Market aggregator</td><td>Price, MCap ($332M), supply (1.5B circ), ATH/ATL</td></tr>
                <tr><td>[5]</td><td><a href="https://www.coingecko.com/en/coins/convex-finance" target="_blank">CoinGecko ‚Äî CVX</a></td><td>Market aggregator</td><td>Price, MCap ($159M), supply (92M circ), ATH ($60.09)</td></tr>
                <tr><td>[6]</td><td><a href="https://defillama.com/protocol/curve-finance" target="_blank">DefiLlama ‚Äî Curve Finance</a></td><td>On-chain analytics</td><td>TVL ($2.1B), fees, revenue, volume ‚Äî live</td></tr>
                <tr><td>[7]</td><td><a href="https://www.crypto-reporter.com/press-releases/curve-finance-closes-2025-with-stable-volumes-and-a-stronger-infrastructure-role-121000/" target="_blank">Crypto Reporter ‚Äî Curve 2025 Year-End</a><br><span style="font-size:9px;color:var(--text-faint)">Jan 20, 2026</span></td><td>Press coverage</td><td>$122.3B annual vol, $13.6M annual rev to veCRV</td></tr>
                <tr><td>[8]</td><td><a href="https://defillama.com/protocol/convex-finance" target="_blank">DefiLlama ‚Äî Convex Finance</a></td><td>On-chain analytics</td><td>Convex TVL, vlCVX locked supply, governance</td></tr>
                <tr><td>[9]</td><td><a href="https://insidecryptoreview.com/en/dex/curve" target="_blank">InsideCryptoReview ‚Äî Curve Review 2026</a><br><span style="font-size:9px;color:var(--text-faint)">Feb 2026</span></td><td>Independent review</td><td>Fee structure (0.04%), FX roadmap, V2 pools, emissions</td></tr>
                <tr><td>[10]</td><td><a href="https://www.bis.org/statistics/rpfx22.htm" target="_blank">BIS ‚Äî Triennial FX Survey</a></td><td>Central bank data</td><td>Global FX: $7.5T daily turnover</td></tr>
                <tr><td>[11]</td><td><a href="https://coinlaw.io/uniswap-statistics/" target="_blank">CoinLaw ‚Äî Uniswap Stats 2026</a></td><td>Market research</td><td>Uni V4 vol, Curve competitive comparison, Fluid share</td></tr>
                <tr><td>[12]</td><td><a href="https://www.ccn.com/curve-dao-crv-price-prediction/" target="_blank">CCN ‚Äî CRV TVL/MCap Ratio</a><br><span style="font-size:9px;color:var(--text-faint)">May 2025</span></td><td>Market analysis</td><td>TVL-to-MCap ratio 0.40 (undervalued by DeFi metrics)</td></tr>
                <tr><td>[13]</td><td><a href="https://defillama.com/fees/chain/ethereum" target="_blank">DefiLlama ‚Äî ETH DEX Fees</a></td><td>On-chain analytics</td><td>DEX fee ranking ‚Äî Curve vs Uniswap vs Fluid (live)</td></tr>
                <tr><td>[14]</td><td><a href="https://crypto.news/curve-finance-ethereum-dex-fees-activity-surges-2025/" target="_blank">Crypto.News ‚Äî Curve Fee Surge</a><br><span style="font-size:9px;color:var(--text-faint)">Dec 23, 2025</span></td><td>Press coverage</td><td>$15.1M in 30-day fees, crvUSD + BTC pool drivers</td></tr>
                <tr><td>[15]</td><td><a href="https://www.coingecko.com/en/coins/crvusd" target="_blank">CoinGecko ‚Äî crvUSD</a></td><td>Market aggregator</td><td>crvUSD FDV (~$290M), peg stability, trading volume</td></tr>
              </tbody>
            </table>
            <div style="margin-top: 16px; padding: 12px 16px; background: var(--bg2); border-radius: 8px; border-left: 3px solid var(--blue);">
              <div style="font-family: var(--mono); font-size: 10px; color: var(--blue); margin-bottom: 6px;">LIVE DATA BOOKMARKS ‚Äî CHECK WEEKLY</div>
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
                <a href="https://defillama.com/fees/chain/ethereum" target="_blank" style="font-size: 11px;">DefiLlama ‚Äî ETH DEX Fees</a>
                <a href="https://defillama.com/protocol/curve-finance" target="_blank" style="font-size: 11px;">DefiLlama ‚Äî Curve TVL/Revenue</a>
                <a href="https://www.coingecko.com/en/coins/curve-dao-token" target="_blank" style="font-size: 11px;">CoinGecko ‚Äî CRV Price</a>
                <a href="https://www.coingecko.com/en/coins/convex-finance" target="_blank" style="font-size: 11px;">CoinGecko ‚Äî CVX Price</a>
                <a href="https://defillama.com/protocol/convex-finance" target="_blank" style="font-size: 11px;">DefiLlama ‚Äî Convex Finance</a>
                <a href="https://resources.curve.finance/vecrv/fee-collection-distribution/" target="_blank" style="font-size: 11px;">Curve ‚Äî Fee Distribution Docs</a>
                <a href="https://www.coingecko.com/en/coins/crvusd" target="_blank" style="font-size: 11px;">CoinGecko ‚Äî crvUSD</a>
                <a href="https://curve.fi/#/ethereum/pools" target="_blank" style="font-size: 11px;">Curve.fi ‚Äî Pool Explorer</a>
              </div>
            </div>
          </div>
        </div>

      </div><!-- end tr-content -->

      <div class="page-footer">Research document ‚Äî not financial advice. Sources: on-chain analytics (DefiLlama), market aggregators (CoinGecko), official docs (Curve Resources), first-party PR (PRNewswire). Fee share = 30-day rolling. Last updated: Feb 25, 2026.</div>

    </div>
  </main>
</div>

<script src="assets/nav.js" data-root="./"></script>
<script>
// ‚îÄ‚îÄ Tab switching ‚îÄ‚îÄ
function switchTab(id, btn) {
  document.querySelectorAll('.tr-panel').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.tr-tab').forEach(b => b.classList.remove('active'));
  document.getElementById('p-' + id).classList.add('active');
  btn.classList.add('active');
}

// ‚îÄ‚îÄ DATA ‚îÄ‚îÄ
const D = [
  {p:"Q1 2024",c:1.6,u:68,f:0,o:30.4},{p:"Q2 2024",c:3.2,u:62,f:2,o:32.8},
  {p:"Q3 2024",c:5.8,u:58,f:5,o:31.2},{p:"Q4 2024",c:12,u:52,f:10,o:26},
  {p:"Q1 2025",c:18,u:48,f:12,o:22},{p:"Q2 2025",c:28,u:40,f:14,o:18},
  {p:"Q3 2025",c:35,u:34,f:15,o:16},{p:"Q4 2025",c:44,u:28,f:16,o:12}
];

const R = [
  {q:"Q1'24",r:1.2,v:12,t:1.8},{q:"Q2'24",r:1.8,v:16,t:1.9},
  {q:"Q3'24",r:2.4,v:20,t:2.0},{q:"Q4'24",r:2.8,v:22,t:2.0},
  {q:"Q1'25",r:3.2,v:24,t:2.1},{q:"Q2'25",r:3.9,v:25.5,t:2.1},
  {q:"Q3'25",r:7.3,v:29,t:2.3},{q:"Q4'25",r:5.8,v:28,t:2.2}
];

const FW = [
  {ic:"üíß",lb:"Liquidity Expansion",su:"WALCL ‚Üë ‚Üí M2 ‚Üë",cl:"var(--blue)",dt:"Fed balance sheet expands ‚Üí M2 grows ‚Üí capital enters crypto via stablecoins. Track WALCL on FRED every Thursday."},
  {ic:"‚ü†",lb:"ETH Pump",su:"Capital ‚Üí Ethereum",cl:"#627eea",dt:"Stablecoins on-ramp to ETH. DeFi TVL grows. ETH is the precondition, not the bet."},
  {ic:"üîÑ",lb:"Stablecoin Volume",su:"Swaps explode",cl:"var(--teal)",dt:"Every trade settles through stablecoins. USDC‚ÜîUSDT‚ÜîDAI volume 5-10x in bull markets. Track on DefiLlama."},
  {ic:"üõ£Ô∏è",lb:"Curve = Toll Road",su:"44% of ETH DEX fees",cl:"var(--orange)",dt:"Curve's StableSwap invariant dominates like-kind swaps. 0.003% slippage on $500K trades. [Source 9: InsideCryptoReview]"},
  {ic:"üó≥Ô∏è",lb:"veCRV Rewards",su:"100% fees ‚Üí holders",cl:"var(--yellow)",dt:"$13.6M distributed to veCRV holders in 2025 [Source 7]. Revenue doubled Q2‚ÜíQ3 [Source 2]. Weekly Thu distribution."},
  {ic:"üîí",lb:"Lock More CRV",su:"Supply squeeze",cl:"var(--orange)",dt:"Higher fees ‚Üí more locking incentive ‚Üí less floating supply ‚Üí thinner order book. Lock periods: 1-4 years."},
  {ic:"‚ö°",lb:"CVX Amplifies",su:"Levered governance",cl:"var(--blue)",dt:"Convex controls largest veCRV block. CVX = leveraged claim on the toll road. vlCVX holders direct emissions. [Source 8]"},
  {ic:"‚ôªÔ∏è",lb:"Reflexive Loop",su:"Self-reinforcing",cl:"var(--purple)",dt:"\"It always makes sense to buy in\" ‚Äî emission revenue makes locking rational. Ponzi dynamics when volume is flowing."}
];

const CS = [
  {l:"CRV Price",v:"~$0.42",s:"97% below ATH ($15.37) ¬∑ ATL $0.18",c:"var(--red)",sr:"[4] CoinGecko"},
  {l:"ETH DEX Fee Share",v:"44%",s:"Up from 1.6% (Dec 2024)",c:"var(--green)",sr:"[1] PRNewswire"},
  {l:"2025 Revenue",v:"$13.6M",s:"100% distributed to veCRV holders",c:"var(--yellow)",sr:"[7] Crypto Reporter"},
  {l:"CRV Emissions",v:"115M/yr",s:"Reduced from 137M",c:"var(--purple)",sr:"[9] InsideCryptoReview"},
  {l:"Curve TVL",v:"$2.1B",s:"Stable through bear ¬∑ TVL/MCap 0.40",c:"var(--teal)",sr:"[6] DefiLlama"},
  {l:"CRV Circulating",v:"1.5B",s:"Of 3.03B max (48%)",c:"var(--orange)",sr:"[4] CoinGecko"},
  {l:"CVX Price",v:"~$1.73",s:"ATH $60.09 ¬∑ MCap $159M",c:"var(--blue)",sr:"[5] CoinGecko"},
  {l:"CVX Supply",v:"92M",s:"Of 100M max ¬∑ vlCVX active",c:"var(--blue)",sr:"[5] CoinGecko"}
];

const SC = [
  {l:"CRV Conservative",tg:"$1.00 ‚Äì $2.00",m:"2‚Äì5√ó",b:"DeFi recovery, fee share sustained",c:"var(--green)"},
  {l:"CRV Base Case",tg:"$3.00 ‚Äì $5.00",m:"7‚Äì12√ó",b:"Prior cycle range. Flywheel running.",c:"var(--yellow)"},
  {l:"CRV Bull",tg:"$5.00 ‚Äì $10.00",m:"12‚Äì24√ó",b:"FX pools + institutional flow",c:"var(--orange)"},
  {l:"CVX Conservative",tg:"$5 ‚Äì $12",m:"3‚Äì7√ó",b:"CRV recovers, governance premium holds",c:"var(--blue)"},
  {l:"CVX Bull",tg:"$20 ‚Äì $60",m:"12‚Äì35√ó",b:"Curve Wars reignite. Requires CRV $5+",c:"var(--blue)"}
];

const RF = [
  "CRV fees rise ‚Üí veCRV yield rises ‚Üí rational to buy CRV and lock",
  "More CRV locked ‚Üí less floating supply ‚Üí upward price pressure",
  "Price rises ‚Üí emission revenue (in $) rises ‚Üí APY increases",
  "Higher APY ‚Üí more locking ‚Üí less float ‚Üí price accelerates",
  "Protocols compete for veCRV ‚Üí demand for CVX to direct emissions",
  "CVX demand rises ‚Üí CVX price rises ‚Üí governance premium expands",
  "This is a ponzi when it's running. Geometric, not arithmetic."
];

const KS = [
  {ic:"‚ü†",lb:"ETH DeFi Volume Collapse",tr:"ETH total DEX volume < $500M/day for 30+ days",ac:"Reduce CRV/CVX 50%. Precondition failing.",st:"MONITOR",c:"#627eea",mt:"ETH daily DEX vol",so:"DefiLlama",ur:"https://defillama.com/dexs/chains",cu:"~$1.2B/day"},
  {ic:"üìä",lb:"Curve Fee Share Decline",tr:"Curve fee share < 25% for 2 consecutive months",ac:"Investigate. If structural ‚Üí reduce 50%.",st:"STRONG",c:"var(--green)",mt:"Curve % ETH DEX fees",so:"DefiLlama",ur:"https://defillama.com/fees/chain/ethereum",cu:"~44%"},
  {ic:"ü©∏",lb:"TVL Exodus",tr:"Curve TVL < $1B while total DeFi TVL stable/growing",ac:"Full exit CRV/CVX. Infrastructure thesis broken.",st:"MONITOR",c:"var(--yellow)",mt:"Curve TVL",so:"DefiLlama",ur:"https://defillama.com/protocol/curve-finance",cu:"$2.1B"},
  {ic:"üîì",lb:"veCRV Mass Unlock",tr:"veCRV locked supply drops >20% in one quarter",ac:"Reduce CVX 100%, CRV 50%. Flywheel breaking.",st:"MONITOR",c:"var(--purple)",mt:"veCRV locked supply",so:"Curve Dashboard",ur:"https://curve.fi/#/ethereum/dashboard",cu:"Stable"},
  {ic:"ü™ù",lb:"Uni v4 StableSwap Hook",tr:"Uni v4 StableSwap hook > $500M TVL in stablecoin pools",ac:"If Curve fee share declining too ‚Üí reduce 30%.",st:"LOW RISK",c:"var(--text-dim)",mt:"Uni v4 hook TVL",so:"DefiLlama",ur:"https://defillama.com/protocol/uniswap-v4",cu:"Negligible"},
  {ic:"üêõ",lb:"Smart Contract Exploit",tr:"Curve/Convex core exploited with >$50M loss",ac:"Exit 100% immediately. Re-evaluate post-mortem.",st:"DEFINE",c:"var(--red)",mt:"Exploit alerts",so:"Rekt.news",ur:"https://rekt.news",cu:"No active exploit"},
  {ic:"üìâ",lb:"Emission Death Spiral",tr:"CRV sell pressure > fee revenue for 6+ months post-recovery",ac:"Exit CRV, hold CVX if premium holds.",st:"WATCH",c:"var(--yellow)",mt:"Emission vs revenue",so:"Curve Resources",ur:"https://resources.curve.finance",cu:"115M CRV/yr"},
  {ic:"üí±",lb:"FX Pools Fail to Launch",tr:"By Q4 2026, FX pool TVL < $100M total",ac:"Remove FX upside. Doesn't kill base case.",st:"UPSIDE",c:"var(--teal)",mt:"FX pool TVL",so:"DefiLlama",ur:"https://defillama.com/protocol/curve-finance",cu:"Early stage"}
];

const CL = [
  {ck:"Curve fee share on DefiLlama",fr:"Weekly",ur:"https://defillama.com/fees/chain/ethereum"},
  {ck:"Curve TVL trend",fr:"Weekly",ur:"https://defillama.com/protocol/curve-finance"},
  {ck:"CRV + CVX price check",fr:"Weekly",ur:"https://www.coingecko.com/en/coins/curve-dao-token"},
  {ck:"veCRV locked supply",fr:"Monthly",ur:"https://curve.fi/#/ethereum/dashboard"},
  {ck:"Uni v4 stablecoin hook TVL",fr:"Monthly",ur:"https://defillama.com/protocol/uniswap-v4"},
  {ck:"FX pool TVL growth",fr:"Monthly",ur:"https://curve.fi/#/ethereum/pools"},
  {ck:"Curve quarterly revenue",fr:"Quarterly",ur:"https://www.prnewswire.com/"},
  {ck:"Exploit alerts",fr:"Daily (passive)",ur:"https://rekt.news"}
];

// ‚îÄ‚îÄ RENDER: Flywheel ‚îÄ‚îÄ
let activeFW = -1;
const fwg = document.getElementById('fwg');
const fwd = document.getElementById('fwd');
FW.forEach((s, i) => {
  const el = document.createElement('div');
  el.className = 'fw-step';
  el.style.borderLeft = '3px solid ' + s.cl;
  el.innerHTML = '<div class="fw-icon">' + s.ic + '</div><div class="fw-label">' + s.lb + '</div><div class="fw-sub" style="color:' + s.cl + '">' + s.su + '</div>';
  el.onclick = () => {
    document.querySelectorAll('.fw-step').forEach(x => x.style.borderColor = x.style.borderLeftColor);
    if (activeFW === i) { activeFW = -1; fwd.classList.remove('active'); return; }
    activeFW = i;
    fwd.className = 'fw-detail active';
    fwd.innerHTML = '<div style="font-size:13px;font-weight:700;color:' + s.cl + ';margin-bottom:4px">Step ' + (i+1) + ': ' + s.lb + '</div>' + s.dt;
  };
  fwg.appendChild(el);
});

// ‚îÄ‚îÄ RENDER: Stats ‚îÄ‚îÄ
const csg = document.getElementById('cs');
CS.forEach(s => {
  csg.innerHTML += '<div class="stat-card" style="border-left-color:' + s.c + '"><div class="sc-label">' + s.l.toUpperCase() + '</div><div class="sc-value" style="color:' + s.c + '">' + s.v + '</div><div class="sc-note">' + s.s + '</div><div class="sc-source">' + s.sr + '</div></div>';
});

// ‚îÄ‚îÄ RENDER: Stacked bar chart ‚îÄ‚îÄ
const sch = document.getElementById('sch');
D.forEach(d => {
  let h = '';
  [{k:'o',cl:'var(--text-faint)'},{k:'f',cl:'var(--green)'},{k:'u',cl:'#ff007a'},{k:'c',cl:'var(--orange)'}].forEach(sg => {
    const ht = (d[sg.k] / 100) * 200;
    const op = sg.k === 'c' ? 'cc' : '55';
    const lb = sg.k === 'c' && d.c > 10 ? '<span class="bar-seg-label">' + d.c + '%</span>' : '';
    const rd = sg.k === 'o' ? 'border-radius:3px 3px 0 0;' : sg.k === 'c' ? 'border-radius:0 0 3px 3px;' : '';
    // Resolve CSS var for opacity concat
    let color = sg.cl;
    if (color.startsWith('var(')) {
      const style = getComputedStyle(document.documentElement);
      color = style.getPropertyValue(color.replace('var(','').replace(')','').trim()).trim();
    }
    h += '<div class="bar-seg" style="height:' + ht + 'px;background:' + color + op + ';' + rd + '">' + lb + '</div>';
  });
  sch.innerHTML += '<div class="bar-col"><div class="bar-stack">' + h + '</div><div class="bar-period">' + d.p + '</div></div>';
});

// ‚îÄ‚îÄ RENDER: Revenue charts ‚îÄ‚îÄ
const rcg = document.getElementById('rcg');
[{f:'r',cl:'var(--yellow)',lb:'veCRV REVENUE ($M)',u:'$',sx:'M'},
 {f:'v',cl:'var(--teal)',lb:'TRADING VOLUME ($B)',u:'$',sx:'B'},
 {f:'t',cl:'var(--purple)',lb:'TVL ($B)',u:'$',sx:'B'}].forEach(cfg => {
  const mx = Math.max(...R.map(d => d[cfg.f]));
  const style = getComputedStyle(document.documentElement);
  let color = cfg.cl;
  if (color.startsWith('var(')) {
    color = style.getPropertyValue(color.replace('var(','').replace(')','').trim()).trim();
  }
  let h = '';
  R.forEach(d => {
    const ht = (d[cfg.f] / mx) * 90;
    h += '<div class="rev-col"><div class="rev-val" style="color:' + color + '">' + cfg.u + d[cfg.f] + cfg.sx + '</div><div class="rev-bar" style="height:' + ht + 'px;background:linear-gradient(to top,' + color + 'cc,' + color + '44)"></div><div class="rev-label">' + d.q + '</div></div>';
  });
  rcg.innerHTML += '<div><div class="rev-section-label">' + cfg.lb + '</div><div class="rev-chart">' + h + '</div></div>';
});

// ‚îÄ‚îÄ RENDER: Scenarios ‚îÄ‚îÄ
const scn = document.getElementById('scn');
SC.forEach(s => {
  scn.innerHTML += '<div class="scenario-row" style="border-left:3px solid ' + s.c + '"><div style="font-size:11px;font-weight:700;color:' + s.c + '">' + s.l + '</div><div style="font-family:var(--mono);font-size:12px;color:var(--text)">' + s.tg + '</div><div><span class="badge" style="background:' + s.c + '18;color:' + s.c + ';border-color:' + s.c + '30">' + s.m + '</span></div><div style="font-size:10px;color:var(--text-dim)">' + s.b + '</div></div>';
});

// ‚îÄ‚îÄ RENDER: Reflexive steps ‚îÄ‚îÄ
const rfx = document.getElementById('rfx');
RF.forEach((s, i) => {
  const last = i === RF.length - 1;
  rfx.innerHTML += '<div class="reflex-step' + (last ? ' highlight' : '') + '"><span class="reflex-num">' + (i+1) + '.</span><span style="font-size:11px;color:' + (last ? 'var(--purple)' : 'var(--text-mid)') + ';font-weight:' + (last ? 700 : 400) + '">' + s + '</span></div>';
});

// ‚îÄ‚îÄ RENDER: Kill switches ‚îÄ‚îÄ
const kss = document.getElementById('kss');
KS.forEach(sw => {
  const style = getComputedStyle(document.documentElement);
  let color = sw.c;
  if (color.startsWith('var(')) {
    color = style.getPropertyValue(color.replace('var(','').replace(')','').trim()).trim();
  }
  kss.innerHTML += '<div class="ks-card" style="border-left:3px solid ' + sw.c + '"><div class="ks-header"><div class="ks-header-left"><span class="ks-icon">' + sw.ic + '</span><span class="ks-label">' + sw.lb + '</span></div><span class="badge" style="background:' + color + '18;color:' + sw.c + ';border-color:' + color + '30">' + sw.st + '</span></div><div class="ks-body"><div><div class="ks-sub-label" style="color:var(--red)">TRIGGER</div><div class="ks-sub-text">' + sw.tr + '</div></div><div><div class="ks-sub-label" style="color:var(--green)">ACTION</div><div class="ks-sub-text">' + sw.ac + '</div></div></div><div class="ks-meta"><span><span class="meta-key">METRIC:</span> ' + sw.mt + '</span><span><span class="meta-key">SOURCE:</span> <a href="' + sw.ur + '" target="_blank" style="font-size:10px">' + sw.so + '</a></span><span><span class="meta-key">CURRENT:</span> <span style="color:' + sw.c + '">' + sw.cu + '</span></span></div></div>';
});

// ‚îÄ‚îÄ RENDER: Checklist ‚îÄ‚îÄ
const chl = document.getElementById('chl');
CL.forEach(c => {
  chl.innerHTML += '<div class="cl-item"><div class="cl-box" onclick="this.classList.toggle(\'checked\')"></div><div><div style="font-size:11px;color:var(--text)">' + c.ck + '</div><div style="font-family:var(--mono);font-size:9px;color:var(--text-dim)">' + c.fr + ' ¬∑ <a href="' + c.ur + '" target="_blank" style="font-size:9px">' + c.ur.replace('https://','').replace('www.','').split('/').slice(0,2).join('/') + '</a></div></div></div>';
});
</script>
</body>
</html>
