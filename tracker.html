<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Invalidation Tracker ‚Äî BTC Thesis</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=DM+Sans:wght@300;400;500;700&display=swap" rel="stylesheet">
  <style>
    /* ‚îÄ‚îÄ TOKENS ‚îÄ‚îÄ */
    :root {
      --bg:#0d1117; --bg2:#111827; --card:#161f2e;
      --border:#1e2d45; --border-hi:#2d4060;
      --text:#e2e8f0; --text-mid:#8b9ab0; --text-dim:#3d5068; --text-faint:#1e2d3d;
      --green:#4ade80; --yellow:#fbbf24; --orange:#f97316; --red:#f87171;
      --blue:#38bdf8; --purple:#a78bfa;
      --mono:'Space Mono',monospace; --sans:'DM Sans',sans-serif;
      --nav-width:224px;
    }
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
    body{background:var(--bg);color:var(--text);font-family:var(--sans);min-height:100vh;-webkit-font-smoothing:antialiased;}
    a{color:var(--blue);text-decoration:none;}
    a:hover{text-decoration:underline;}

    /* ‚îÄ‚îÄ LAYOUT ‚îÄ‚îÄ */
    .site-layout{display:flex;min-height:100vh;}
    .site-nav{
      width:var(--nav-width);min-width:var(--nav-width);
      background:var(--bg2);border-right:1px solid var(--border);
      padding:0 0 40px;position:fixed;top:0;left:0;height:100vh;
      overflow-y:auto;z-index:200;display:flex;flex-direction:column;
    }
    .nav-logo{padding:24px 20px 20px;border-bottom:1px solid var(--border);margin-bottom:12px;}
    .nav-logo-eyebrow{font-family:var(--mono);font-size:9px;letter-spacing:2.5px;color:var(--text-dim);text-transform:uppercase;margin-bottom:6px;}
    .nav-logo-title{font-family:var(--mono);font-size:16px;font-weight:700;color:var(--text);line-height:1.15;}
    .nav-logo-title span{color:var(--blue);}
    .nav-section-label{font-family:var(--mono);font-size:9px;letter-spacing:2px;color:var(--text-faint);padding:14px 20px 5px;text-transform:uppercase;}
    .nav-link{
      display:flex;align-items:center;gap:9px;padding:8px 20px;
      font-size:13px;color:var(--text-dim);border-left:2px solid transparent;
      transition:color .12s,background .12s,border-color .12s;
      text-decoration:none;cursor:pointer;white-space:nowrap;
    }
    .nav-link:hover{color:var(--text-mid);background:rgba(255,255,255,0.025);text-decoration:none;}
    .nav-link.active{color:var(--blue);border-left-color:var(--blue);background:rgba(56,189,248,0.07);}
    .nav-dot{width:5px;height:5px;border-radius:50%;background:var(--border-hi);flex-shrink:0;}
    .nav-link.active .nav-dot{background:var(--blue);}
    .nav-badge{margin-left:auto;font-family:var(--mono);font-size:8px;font-weight:700;padding:2px 5px;border-radius:3px;flex-shrink:0;}
    .nav-badge.yellow{background:rgba(251,191,36,0.15);color:var(--yellow);}
    .nav-badge.dim{background:rgba(255,255,255,0.04);color:var(--text-dim);}

    /* ‚îÄ‚îÄ MAIN ‚îÄ‚îÄ */
    .site-main{margin-left:var(--nav-width);flex:1;min-height:100vh;}
    .page-wrap{padding:44px 48px;max-width:1080px;animation:fadeIn .18s ease;}
    @keyframes fadeIn{from{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}

    /* ‚îÄ‚îÄ PAGE HEADER ‚îÄ‚îÄ */
    .page-header{margin-bottom:36px;}
    .page-eyebrow{font-family:var(--mono);font-size:10px;letter-spacing:3px;color:var(--text-dim);text-transform:uppercase;margin-bottom:10px;}
    .page-title{font-size:30px;font-weight:700;line-height:1.1;color:var(--text);letter-spacing:-.5px;}
    .page-subtitle{margin-top:10px;color:var(--text-mid);font-size:14px;line-height:1.75;max-width:620px;}

    /* ‚îÄ‚îÄ CARDS ‚îÄ‚îÄ */
    .card{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:20px 24px;}
    .card-eyebrow{font-family:var(--mono);font-size:9px;letter-spacing:2px;color:var(--text-dim);text-transform:uppercase;margin-bottom:14px;}

    /* ‚îÄ‚îÄ GRID ‚îÄ‚îÄ */
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:14px;}
    .stack{display:flex;flex-direction:column;gap:14px;}
    .source-link{font-family:var(--mono);font-size:10px;color:var(--blue);display:inline-flex;align-items:center;gap:4px;margin-top:5px;opacity:.8;transition:opacity .1s;}
    .source-link:hover{opacity:1;text-decoration:none;}

    /* ‚îÄ‚îÄ TRACKER SPECIFIC ‚îÄ‚îÄ */
    .spike-btn{font-family:var(--mono);font-size:11px;padding:9px 18px;border-radius:7px;cursor:pointer;border:1px solid var(--border-hi);background:transparent;color:var(--text-mid);transition:all .15s;}
    .spike-btn:hover{background:rgba(255,255,255,0.04);}
    .spike-btn.is-no{border-color:var(--green);color:var(--green);background:rgba(74,222,128,0.08);}
    .spike-btn.is-yes{border-color:var(--red);color:var(--red);background:rgba(248,113,113,0.08);}

    .checklist{display:flex;flex-direction:column;gap:10px;}
    .check-item{display:flex;gap:12px;align-items:flex-start;padding:12px 16px;background:var(--bg2);border:1px solid var(--border);border-radius:8px;}
    .check-item.urgent{border-color:rgba(249,115,22,0.4);}
    .check-icon{color:var(--blue);font-family:var(--mono);font-size:13px;margin-top:1px;flex-shrink:0;}
    .check-icon.urgent-icon{color:var(--orange);}
    .check-title{font-size:13px;font-weight:600;color:var(--text);margin-bottom:3px;}
    .check-detail{font-size:12px;color:var(--text-mid);line-height:1.55;}

    .spread-table{display:flex;flex-direction:column;gap:6px;}
    .spread-row{display:grid;grid-template-columns:72px 1fr 1fr;gap:8px;align-items:center;padding:7px 12px;border-radius:7px;background:var(--bg2);border:1px solid var(--border);font-size:12px;}
    .spread-row.is-active{border-color:rgba(249,115,22,0.5);background:rgba(249,115,22,0.05);}
    .spread-range{font-family:var(--mono);font-weight:700;}
    .spread-label{font-weight:600;}
    .spread-note{color:var(--text-dim);font-size:11px;}

    .kill-row{display:grid;grid-template-columns:32px 1fr auto;gap:14px;align-items:center;padding:12px 16px;border-radius:9px;background:var(--bg2);border:1px solid var(--border);margin-bottom:8px;transition:border-color .15s;}
    .kill-row:hover{border-color:var(--border-hi);}
    .kill-icon{font-size:18px;text-align:center;}
    .kill-label{font-size:13px;font-weight:600;color:var(--text);margin-bottom:3px;}
    .kill-desc{font-size:11px;color:var(--text-mid);line-height:1.5;}
    .kill-status{font-family:var(--mono);font-size:10px;font-weight:700;white-space:nowrap;}

    .timeline-win{display:grid;grid-template-columns:90px 1fr;gap:16px;padding:14px 18px;border-radius:9px;border:1px solid var(--border);background:var(--bg2);}
    .timeline-win.is-active{border-color:var(--orange);background:rgba(249,115,22,0.04);}
    .timeline-win.is-past{opacity:.45;}
    .tw-day{font-family:var(--mono);font-weight:700;font-size:13px;}
    .tw-date{font-family:var(--mono);color:var(--text-dim);font-size:11px;margin-top:2px;}
    .tw-status{font-family:var(--mono);font-size:10px;margin-top:4px;}
    .tw-title{font-size:13px;font-weight:700;margin-bottom:4px;}
    .tw-action{font-size:12px;font-weight:600;margin-bottom:4px;}
    .tw-watch{font-size:11px;color:var(--text-mid);line-height:1.55;}

    @media(max-width:900px){
      .site-nav{position:relative;width:100%;height:auto;}
      .site-main{margin-left:0;}
      .page-wrap{padding:24px 20px;}
      .grid-2{grid-template-columns:1fr;}
    }
  </style>
</head>
<body>
<div class="site-layout">

  <!-- ‚îÄ‚îÄ HARDCODED NAV (no external dependency) ‚îÄ‚îÄ -->
  <nav class="site-nav">
    <div class="nav-logo">
      <div class="nav-logo-eyebrow">research</div>
      <div class="nav-logo-title">BTC<br/><span>THESIS</span></div>
    </div>

    <div class="nav-section-label">Monitor</div>
    <a class="nav-link active" href="tracker.html"><span class="nav-dot"></span>Invalidation Tracker<span class="nav-badge yellow">WATCH</span></a>
    <a class="nav-link" href="catalysts.html"><span class="nav-dot"></span>Geo Catalysts</a>

    <div class="nav-section-label">Thesis</div>
    <a class="nav-link" href="thesis/core.html"><span class="nav-dot"></span>Core Thesis<span class="nav-badge dim">TODO</span></a>
    <a class="nav-link" href="thesis/liquidity.html"><span class="nav-dot"></span>Liquidity Framework<span class="nav-badge dim">TODO</span></a>
    <a class="nav-link" href="thesis/btc-gold.html"><span class="nav-dot"></span>BTC:Gold Parity<span class="nav-badge dim">TODO</span></a>

    <div class="nav-section-label">Portfolio</div>
    <a class="nav-link" href="portfolio/positions.html"><span class="nav-dot"></span>My Positions<span class="nav-badge dim">TODO</span></a>
    <a class="nav-link" href="portfolio/exits.html"><span class="nav-dot"></span>Exit Plan<span class="nav-badge dim">TODO</span></a>
    <a class="nav-link" href="portfolio/family.html"><span class="nav-dot"></span>Family Accounts<span class="nav-badge dim">TODO</span></a>

    <div class="nav-section-label">Research</div>
    <a class="nav-link" href="research/structure.html"><span class="nav-dot"></span>Market Structure<span class="nav-badge dim">TODO</span></a>
    <a class="nav-link" href="research/sentiment.html"><span class="nav-dot"></span>Sentiment<span class="nav-badge dim">TODO</span></a>
    <a class="nav-link" href="research/nuclear.html"><span class="nav-dot"></span>Nuclear Thesis<span class="nav-badge dim">TODO</span></a>
    <a class="nav-link" href="research/wealth-transfer.html"><span class="nav-dot"></span>Wealth Transfer<span class="nav-badge dim">TODO</span></a>
  </nav>

  <main class="site-main">
    <div class="page-wrap">

      <header class="page-header">
        <div class="page-eyebrow">weekly session</div>
        <h1 class="page-title">Thesis Invalidation Tracker</h1>
        <p class="page-subtitle">One question drives everything: has a SOFR spike occurred? Toggle below ‚Äî the page reconfigures to show you exactly what to watch and when.</p>
      </header>

      <!-- MASTER SWITCH -->
      <div class="card" style="margin-bottom:14px;border-color:var(--border-hi);">
        <div class="card-eyebrow">master status ‚Äî update each session</div>
        <div style="display:flex;align-items:center;gap:20px;flex-wrap:wrap;">
          <div>
            <div style="font-size:13px;color:var(--text-mid);margin-bottom:10px;">Has a SOFR spike (&gt;25bp above Fed Funds) been confirmed?</div>
            <div style="display:flex;gap:10px;">
              <button class="spike-btn is-no" id="btn-no"  onclick="setSpike(false)">‚úó Not yet ‚Äî monitoring</button>
              <button class="spike-btn"       id="btn-yes" onclick="setSpike(true)">‚úì YES ‚Äî spike confirmed</button>
            </div>
          </div>
          <div id="date-wrap" style="display:none;">
            <div style="font-size:11px;color:var(--text-mid);margin-bottom:6px;">Spike date (Day 0):</div>
            <input type="date" id="spike-date" onchange="renderTimeline()"
              style="background:var(--bg);border:1px solid var(--border-hi);color:var(--text);padding:7px 12px;border-radius:6px;font-family:var(--mono);font-size:12px;" />
          </div>
        </div>
      </div>

      <!-- MONITORING MODE -->
      <div id="view-monitoring">
        <div class="grid-2" style="margin-bottom:14px;">
          <div class="card">
            <div class="card-eyebrow">check this week</div>
            <div class="checklist">
              <div class="check-item">
                <span class="check-icon">‚Üí</span>
                <div>
                  <div class="check-title">SOFR vs Fed Funds spread</div>
                  <div class="check-detail">Published daily 8am ET. FRED: SOFR + EFFR. Alert if &gt;15bp.</div>
                  <a href="https://fred.stlouisfed.org/graph/?g=1cYYu" target="_blank" class="source-link">Open FRED chart ‚Üí</a>
                </div>
              </div>
              <div class="check-item">
                <span class="check-icon">‚Üí</span>
                <div>
                  <div class="check-title">RRP balance (RRPONTSYD)</div>
                  <div class="check-detail">Currently ~$28B ‚Äî maximum tightness. Watch direction. Rising sharply = risk-off flight to safety.</div>
                  <a href="https://fred.stlouisfed.org/series/RRPONTSYD" target="_blank" class="source-link">FRED RRP ‚Üí</a>
                </div>
              </div>
              <div class="check-item">
                <span class="check-icon">‚Üí</span>
                <div>
                  <div class="check-title">Thursday H.4.1 ‚Äî WALCL</div>
                  <div class="check-detail">Fed balance sheet. Every Thursday 4:30pm ET. Rising = expansion starting.</div>
                  <a href="https://fred.stlouisfed.org/series/WALCL" target="_blank" class="source-link">FRED WALCL ‚Üí</a>
                </div>
              </div>
              <div class="check-item">
                <span class="check-icon">‚Üí</span>
                <div>
                  <div class="check-title">Core PCE (monthly)</div>
                  <div class="check-detail">Last Friday of month. FRED: PCEPILFE. Red zone: &gt;3.5% for 3+ months.</div>
                  <a href="https://fred.stlouisfed.org/series/PCEPILFE" target="_blank" class="source-link">FRED Core PCE ‚Üí</a>
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-eyebrow">sofr spread ‚Äî trigger ladder</div>
            <div class="spread-table">
              <div class="spread-row"><span class="spread-range" style="color:var(--green)">&lt; 5bp</span><span class="spread-label" style="color:var(--green)">Normal</span><span class="spread-note">No action</span></div>
              <div class="spread-row"><span class="spread-range" style="color:#a3e635">5‚Äì15bp</span><span class="spread-label" style="color:#a3e635">Watch</span><span class="spread-note">Quarter-end noise possible</span></div>
              <div class="spread-row"><span class="spread-range" style="color:var(--yellow)">15‚Äì25bp</span><span class="spread-label" style="color:var(--yellow)">Prepare</span><span class="spread-note">Accelerate TWAP</span></div>
              <div class="spread-row is-active"><span class="spread-range" style="color:var(--orange)">&gt; 25bp</span><span class="spread-label" style="color:var(--orange)">CHUNK BUY ‚ö°</span><span class="spread-note">Primary trigger ‚Äî toggle above</span></div>
              <div class="spread-row"><span class="spread-range" style="color:var(--red)">&gt; 50bp</span><span class="spread-label" style="color:var(--red)">ALL-IN üö®</span><span class="spread-note">90-day clock starts</span></div>
            </div>
            <div style="margin-top:14px;padding:12px 14px;background:var(--bg2);border-radius:8px;border:1px solid var(--border);">
              <div style="font-size:9px;color:var(--text-dim);letter-spacing:1px;margin-bottom:6px;">2019 PRECEDENT</div>
              <div style="font-size:12px;color:var(--text-mid);line-height:1.65;">Sept 16 2019: SOFR hit 10%. Fed injected $75B within 24hrs, announced $60B/month T-bill purchases. BTC: $8,200 ‚Üí $69,000 ATH 26 months later.</div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-eyebrow">kill switches ‚Äî current status</div>
          <div id="kill-list-mon"></div>
        </div>
      </div>

      <!-- SPIKE ACTIVE MODE -->
      <div id="view-spike" style="display:none;">
        <div class="card" style="border-color:rgba(248,113,113,0.5);background:rgba(248,113,113,0.03);margin-bottom:14px;">
          <div style="display:flex;align-items:center;gap:14px;margin-bottom:18px;">
            <span style="font-size:28px;">üö®</span>
            <div>
              <div style="font-family:var(--mono);color:var(--red);font-weight:700;font-size:14px;margin-bottom:4px;">SOFR SPIKE CONFIRMED ‚Äî CLOCK RUNNING</div>
              <div style="color:var(--text-mid);font-size:13px;">Your only job: confirm WALCL is expanding week-over-week. Everything else is noise.</div>
            </div>
          </div>
          <div id="timeline-windows" style="display:flex;flex-direction:column;gap:10px;"></div>
        </div>

        <div class="grid-2" style="margin-bottom:14px;">
          <div class="card">
            <div class="card-eyebrow">this week's checklist</div>
            <div id="week-checklist" class="checklist"></div>
          </div>
          <div class="card" style="border-color:rgba(56,189,248,0.3);">
            <div class="card-eyebrow">the one rule</div>
            <div style="font-size:13px;line-height:1.85;color:var(--text-mid);">
              Every Thursday 4:30pm ET ‚Äî open FRED WALCL.<br><br>
              <span style="color:var(--green);font-weight:700;">Rising 4+ consecutive weeks</span><br>‚Üí Sustained expansion. Hold.<br><br>
              <span style="color:var(--red);font-weight:700;">Flat/falling 2 consecutive weeks</span><br>‚Üí Sterilized injection. Re-evaluate.<br><br>
              <a href="https://fred.stlouisfed.org/series/WALCL" target="_blank" class="source-link">Open WALCL on FRED ‚Üí</a>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-eyebrow">kill switches ‚Äî monitor during hold</div>
          <div id="kill-list-spike"></div>
        </div>
      </div>

    </div>
  </main>
</div>

<script>
const SWITCHES = [
  { icon:'‚è±', label:'A ‚Äî Time Kill Switch', status:'DEFINE', statusColor:'var(--text-dim)',
    desc:'BTC not at 1.5√ó entry by [your date] after WALCL expansion ‚Üí reduce 50%, reassess. Not yet answered.' },
  { icon:'üè¶', label:'B ‚Äî Mechanism Failure ‚≠ê CORNERSTONE', status:'MONITORING', statusColor:'var(--blue)',
    desc:'WALCL flat/falling for 4 consecutive Thursday H.4.1 readings after Fed injection = sterilized injection, not QE. Thesis broken at the critical link.' },
  { icon:'üìà', label:'C ‚Äî Inflation Ceiling', status:'WATCH', statusColor:'var(--yellow)',
    desc:'Core PCE (FRED: PCEPILFE) above 3.5% for 3+ months ‚Üí Fed constrained ‚Üí reduce 50%. Current: ~2.8% ‚Äî below threshold.' },
  { icon:'üí∏', label:'D ‚Äî Solvency Floor', status:'DEFINE', statusColor:'var(--text-dim)',
    desc:'At what BTC price can you no longer service $833/month from income alone? Set this number. [Not yet recorded]' },
  { icon:'üåç', label:'E ‚Äî Black Swan', status:'DEFINE', statusColor:'var(--text-dim)',
    desc:'USDT depeg / BTC ETF suspended / Treasury dysfunction ‚Üí 100% exit, no analysis, no delay.' },
  { icon:'üìâ', label:'F ‚Äî Mag7 Buyback Shift', status:'MONITORING', statusColor:'var(--purple)',
    desc:'4+ of 7 Mag7 companies showing paused/reduced buybacks while CapEx rises ‚Üí rotation confirmed. Check 10-Q filings quarterly.' },
];

function renderKillSwitches(id) {
  const el = document.getElementById(id);
  if (!el) return;
  el.innerHTML = SWITCHES.map(sw => `
    <div class="kill-row">
      <div class="kill-icon">${sw.icon}</div>
      <div><div class="kill-label">${sw.label}</div><div class="kill-desc">${sw.desc}</div></div>
      <div class="kill-status" style="color:${sw.statusColor}">${sw.status}</div>
    </div>`).join('');
}
renderKillSwitches('kill-list-mon');
renderKillSwitches('kill-list-spike');

function setSpike(val) {
  document.getElementById('btn-no').className  = 'spike-btn' + (val ? '' : ' is-no');
  document.getElementById('btn-yes').className = 'spike-btn' + (val ? ' is-yes' : '');
  document.getElementById('date-wrap').style.display = val ? 'block' : 'none';
  document.getElementById('view-monitoring').style.display = val ? 'none' : 'block';
  document.getElementById('view-spike').style.display = val ? 'block' : 'none';
  if (val) {
    if (!document.getElementById('spike-date').value)
      document.getElementById('spike-date').value = new Date().toISOString().split('T')[0];
    renderTimeline();
  }
}

const WINDOWS = [
  { start:0,  end:2,   color:'var(--red)',    title:'Day 0‚Äì2: SOFR Spike + Fed Response',
    action:'Execute chunk buy (L3/L4). Mark today as Day 0.',
    watch:'Confirm Fed emergency injection announced within 24‚Äì48hrs. Watch NY Fed press releases.' },
  { start:2,  end:14,  color:'var(--orange)', title:'Day 2‚Äì14: WALCL Watch Window ‚≠ê',
    action:'Check FRED WALCL every Thursday 4:30pm ET. Higher than last week?',
    watch:'4 rising weeks = sustained QE. 2 flat/falling = sterilized injection = thesis at risk.' },
  { start:14, end:45,  color:'var(--yellow)', title:'Day 14‚Äì45: The Hard Part',
    action:'BTC will likely drop 20‚Äì40%. Expected. DO NOTHING.',
    watch:'Only check WALCL on Thursdays. Still rising ‚Üí hold. Selling here is the mistake.' },
  { start:45, end:75,  color:'#a3e635',       title:'Day 45‚Äì75: M2 Rising',
    action:'Check FRED M2SL monthly. Acceleration vs prior month?',
    watch:'M2 growth confirms transmission working. Risk-on sentiment begins returning.' },
  { start:90, end:120, color:'var(--blue)',   title:'Day 90‚Äì120: BTC Response Window',
    action:'Main move window (r=0.94 historical). Watch MVRV Z-Score for exit signals.',
    watch:'MVRV above 4 ‚Üí prepare exit tiers. Above 6 ‚Üí begin selling per exit plan.' },
];

function addDays(b,n){const d=new Date(b);d.setDate(d.getDate()+n);return d;}
function fmtDate(d){return d.toLocaleDateString('en-US',{month:'short',day:'numeric'});}
function daysAway(d){const diff=Math.round((d-new Date())/86400000);if(diff<-1)return Math.abs(diff)+'d ago';if(diff<=0)return'TODAY';return'in '+diff+'d';}

function renderTimeline() {
  const dateStr = document.getElementById('spike-date').value;
  if (!dateStr) return;
  const d0 = new Date(dateStr), now = new Date();
  document.getElementById('timeline-windows').innerHTML = WINDOWS.map(w => {
    const s=addDays(d0,w.start), e=addDays(d0,w.end);
    const isPast=now>e, isActive=now>=s&&now<=e;
    let cls='timeline-win'+(isActive?' is-active':isPast?' is-past':'');
    const statusStr=isActive?'‚ñ∂ ACTIVE NOW':isPast?'‚úì PAST':daysAway(s);
    return `<div class="${cls}">
      <div>
        <div class="tw-day" style="color:${w.color}">D+${w.start}</div>
        <div class="tw-date">${fmtDate(s)}‚Äì${fmtDate(e)}</div>
        <div class="tw-status" style="color:${isActive?w.color:'var(--text-dim)'}">${statusStr}</div>
      </div>
      <div>
        <div class="tw-title" style="color:${isActive?w.color:'var(--text)'}">${w.title}</div>
        <div class="tw-action" style="color:${w.color}">‚Üí ${w.action}</div>
        <div class="tw-watch">${w.watch}</div>
      </div></div>`;
  }).join('');

  const daysSince=Math.round((now-d0)/86400000);
  const items=[];
  if(daysSince<=14){
    items.push({urgent:true,text:'Check WALCL on FRED ‚Äî higher than last Thursday?',href:'https://fred.stlouisfed.org/series/WALCL'});
    items.push({urgent:true,text:'Watch Fed language: "temporary" (bad) vs "ongoing/extended" (good)'});
  }
  if(daysSince<=45) items.push({urgent:false,text:'SOFR spread ‚Äî normalized below 10bp?',href:'https://fred.stlouisfed.org/graph/?g=1cYYu'});
  items.push({urgent:false,text:'Core PCE ‚Äî last reading vs 3.5% threshold',href:'https://fred.stlouisfed.org/series/PCEPILFE'});
  if(daysSince>=45) items.push({urgent:false,text:'M2SL ‚Äî monthly growth rate accelerating?',href:'https://fred.stlouisfed.org/series/M2SL'});

  document.getElementById('week-checklist').innerHTML = items.map(it=>`
    <div class="check-item${it.urgent?' urgent':''}">
      <span class="check-icon${it.urgent?' urgent-icon':''}">${it.urgent?'!':'‚Üí'}</span>
      <div>
        <div class="check-detail" style="${it.urgent?'color:var(--text);font-weight:600':''}">${it.text}</div>
        ${it.href?`<a href="${it.href}" target="_blank" class="source-link">Open FRED ‚Üí</a>`:''}
      </div></div>`).join('');
}
</script>
</body>
</html>
